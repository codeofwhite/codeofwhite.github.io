{{ define "main" }}
<main class="home-page">
  <!-- å¤´éƒ¨ç®€ä»‹ -->
  {{ if .Site.Params.homeInfoParams }}
  <div class="home-header">
    {{ if .Site.Params.homeInfoParams.Image }}
    <img src="{{ .Site.Params.homeInfoParams.Image }}" alt="Avatar">
    {{ end }}
    <h1>{{ .Site.Params.homeInfoParams.Title }}</h1>
    <p>{{ .Site.Params.homeInfoParams.Content | safeHTML }}</p>
  </div>
  {{ end }}

  <!-- åˆ†ç±»å¿«æ·å…¥å£ -->
  {{ if .Site.Params.featuredCategories }}
  <div class="category-buttons">
    {{ range .Site.Params.featuredCategories }}
    <a href="{{ .url }}">{{ .icon }} {{ .name }}</a>
    {{ end }}
  </div>
  {{ end }}

  <!-- ç²¾é€‰åšå®¢ -->
  {{ $featured := where .Site.RegularPages "Params.featured" "==" true }}
  {{ if $featured }}
  <section class="featured-posts">
    <h2>âœ¨ ç²¾é€‰åšå®¢</h2>
    {{ range first 3 $featured }}
    <div class="post-card">
      <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
      <div class="meta">
        {{ .Date.Format "2006-01-02" }} Â· {{ .ReadingTime }} åˆ†é’Ÿ
      </div>
    </div>
    {{ end }}
  </section>
  {{ end }}

  <!-- æœ€æ–°æ–‡ç«  -->
  <section class="latest-posts">
    <div class="header">
      <h2>ğŸ“ æœ€æ–°å‘å¸ƒ</h2>
      <a href="/posts/">æŸ¥çœ‹å…¨éƒ¨ â†’</a>
    </div>

    {{ range first 6 (where .Site.RegularPages "Type" "in" .Site.Params.mainSections) }}
    <article>
      <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
      <div class="meta">
        {{ .Date.Format "2006-01-02" }} Â· {{ .ReadingTime }} åˆ†é’Ÿ
        {{ with .Params.categories }}Â· {{ index . 0 }}{{ end }}
      </div>
    </article>
    {{ end }}
  </section>

  <!-- è®¿é—®ç»Ÿè®¡ -->
  <div class="visit-stats">
    <span id="busuanzi_container_site_uv">è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span></span>
    <span id="busuanzi_container_site_pv">æ€»æµè§ˆ <span id="busuanzi_value_site_pv"></span></span>
  </div>
</main>
{{ end }}